var agua = /* color: #0d16d6 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-105.24887429311931, 20.66168806161402]),
            {
              "clase": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24507628515423, 20.656869380768498]),
            {
              "clase": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2704649828021, 20.685976120059898]),
            {
              "clase": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2567337949995, 20.7015831357126]),
            {
              "clase": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26403115465479, 20.652062722353303]),
            {
              "clase": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23793862535791, 20.623467837240778]),
            {
              "clase": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.31218217089014, 20.708112359802346]),
            {
              "clase": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.30600236131983, 20.676637174182932]),
            {
              "clase": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24608953889272, 20.710613678323107]),
            {
              "clase": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23885830338857, 20.674381112114457]),
            {
              "clase": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24321421082875, 20.661873348311207]),
            {
              "clase": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23960932191274, 20.645047476952882]),
            {
              "clase": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23797853883168, 20.63874231523863]),
            {
              "clase": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.20495058226882, 20.64667032634501]),
            {
              "clase": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23775620988347, 20.605652266389683]),
            {
              "clase": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23952110341527, 20.606064006564715]),
            {
              "clase": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23164077332952, 20.60619455809524]),
            {
              "clase": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24748753879327, 20.65269095569292]),
            {
              "clase": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26363399992746, 20.66636394368661]),
            {
              "clase": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26989964018625, 20.66923491333102]),
            {
              "clase": 0,
              "system:index": "19"
            })]),
    rural = 
    /* color: #fff62b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-105.2074080469779, 20.75963556121072]),
            {
              "clase": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.19522008921423, 20.74414493822159]),
            {
              "clase": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.20723638560095, 20.74125532001079]),
            {
              "clase": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2264624598197, 20.742138264764144]),
            {
              "clase": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.22457418467322, 20.732345316466354]),
            {
              "clase": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.18104623999274, 20.688943968592234]),
            {
              "clase": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.1784284039942, 20.690630168040478]),
            {
              "clase": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.17484497275031, 20.68781982521513]),
            {
              "clase": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.20122823468819, 20.692070711534917]),
            {
              "clase": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.19786896567281, 20.690832088460162]),
            {
              "clase": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.25136756383665, 20.701385409791943]),
            {
              "clase": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2520971246887, 20.69927780701498]),
            {
              "clase": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26325511419066, 20.69827417634862]),
            {
              "clase": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26956366979368, 20.699679257421575]),
            {
              "clase": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.26492881261595, 20.708029184883358]),
            {
              "clase": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.29898928197136, 20.7042976408413]),
            {
              "clase": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.28929041417351, 20.705461805546044]),
            {
              "clase": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.32387641637654, 20.743874432693048]),
            {
              "clase": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.21925727813615, 20.59960464193996]),
            {
              "clase": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.21987701251867, 20.600117284780882]),
            {
              "clase": 1,
              "system:index": "19"
            })]),
    bosque = 
    /* color: #258b16 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-105.20537478566267, 20.61413170097452]),
            {
              "clase": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.16563517689802, 20.623289636550076]),
            {
              "clase": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.18466083769852, 20.632512710266113]),
            {
              "clase": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.17946808104568, 20.633396288036295]),
            {
              "clase": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.17503181256973, 20.69988948552118]),
            {
              "clase": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24113854617599, 20.673248225031294]),
            {
              "clase": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24452885837081, 20.673750123963792]),
            {
              "clase": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.27593210802618, 20.674917173376798]),
            {
              "clase": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.27177870508126, 20.670583412634517]),
            {
              "clase": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.17358087011321, 20.661690892194496]),
            {
              "clase": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.14705918737396, 20.66056654701936]),
            {
              "clase": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.17192574152953, 20.713617497280282]),
            {
              "clase": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.1761971435885, 20.75259050583863]),
            {
              "clase": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.30577183856407, 20.783481747326043]),
            {
              "clase": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.31684399737755, 20.7830403963477]),
            {
              "clase": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.32323838366905, 20.78394315833292]),
            {
              "clase": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.3583327545686, 20.77459366638568]),
            {
              "clase": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.11346099890034, 20.72110845880307]),
            {
              "clase": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.0784420780019, 20.738768725798238]),
            {
              "clase": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.04616973913471, 20.732025957901953]),
            {
              "clase": 2,
              "system:index": "19"
            })]),
    urbano = 
    /* color: #57485a */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-105.21224903335887, 20.655635373719914]),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2185575889619, 20.655173571699308]),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2254786056168, 20.65838440228326]),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.22752781330418, 20.658545025838592]),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.21161563595622, 20.64508799448978]),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.2140618105778, 20.646483528019225]),
            {
              "clase": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.20792630296343, 20.645922337482137]),
            {
              "clase": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23228278222889, 20.635175547700225]),
            {
              "clase": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23324837747425, 20.636581212595175]),
            {
              "clase": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23002972665638, 20.625626723185487]),
            {
              "clase": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.22295942369313, 20.62508450066435]),
            {
              "clase": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.22831294631092, 20.602227890705972]),
            {
              "clase": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.23313019370167, 20.602519128220578]),
            {
              "clase": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.22084594879556, 20.595828643563735]),
            {
              "clase": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24382622315639, 20.589259192952877]),
            {
              "clase": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.24153025223964, 20.589570542274874]),
            {
              "clase": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.31210626259339, 20.730689614673054]),
            {
              "clase": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.28227802619259, 20.730543256937487]),
            {
              "clase": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.28596874579708, 20.73148646904194]),
            {
              "clase": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-105.27240823942643, 20.72101008112985]),
            {
              "clase": 3,
              "system:index": "19"
            })]),
    agua_p = 
    /* color: #0a15d6 */
    /* locked: true */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24777620476682, 20.65240570702019],
                  [-105.24726122063596, 20.652486021978365],
                  [-105.2469608132263, 20.65336948371764],
                  [-105.24790495079954, 20.65312854011615]]]),
            {
              "clase": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24524419945676, 20.656752693120275],
                  [-105.24490087670286, 20.656772771289557],
                  [-105.24482577485044, 20.657124138822603],
                  [-105.2452334706207, 20.657013709114036]]]),
            {
              "clase": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24924871264338, 20.661971127567032],
                  [-105.24877127943873, 20.661559538647104],
                  [-105.24859425364374, 20.661705100709632],
                  [-105.24916824637293, 20.662081553672927]]]),
            {
              "clase": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2776872134555, 20.681074889125238],
                  [-105.27639975312835, 20.682118783220776],
                  [-105.27689327958709, 20.68252027903804],
                  [-105.27809490922576, 20.681496462605025]]]),
            {
              "clase": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.29160289970766, 20.6911577863071],
                  [-105.29121666160951, 20.69157933177462],
                  [-105.29166727272401, 20.692041023085448],
                  [-105.29218225685487, 20.69157933177462]]]),
            {
              "clase": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23939719953013, 20.605933937351754],
                  [-105.2393542841859, 20.60629546470163],
                  [-105.23974052228404, 20.606405931220788]]]),
            {
              "clase": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23780475816517, 20.605600302179333],
                  [-105.23755263051777, 20.60557770664201],
                  [-105.23753385505466, 20.60563294017177],
                  [-105.23767601213245, 20.60567813122667],
                  [-105.23783158025532, 20.60566557815721]]]),
            {
              "clase": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23169239797689, 20.60618965723811],
                  [-105.23160120287038, 20.606184636027315],
                  [-105.23160924949742, 20.606224805709115],
                  [-105.23171117343999, 20.606224805709115]]]),
            {
              "clase": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23811317521094, 20.638625906518953],
                  [-105.23786641198157, 20.638686148200268],
                  [-105.23786641198157, 20.638876913367007],
                  [-105.23815609055518, 20.638866873101044]]]),
            {
              "clase": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23972778250166, 20.64481214081884],
                  [-105.23944883276411, 20.645063137457818],
                  [-105.23958830763289, 20.64522377508936],
                  [-105.23981361319014, 20.64499285844067]]]),
            {
              "clase": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24343759509611, 20.643144115311916],
                  [-105.24310500117826, 20.643505554305168],
                  [-105.24337322207975, 20.643746513156774],
                  [-105.24377018901396, 20.6433750347678]]]),
            {
              "clase": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.30866516308241, 20.67958800272235],
                  [-105.30802143291884, 20.679487626928452],
                  [-105.30799997524672, 20.67992927992511],
                  [-105.30849350170546, 20.67994935503078]]]),
            {
              "clase": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25156629757338, 20.64965300088594],
                  [-105.25160921291761, 20.649331734811703],
                  [-105.25128734783583, 20.649371893108107],
                  [-105.25126589016371, 20.64967307999304]]]),
            {
              "clase": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2657498826118, 20.65173915957986],
                  [-105.2652992714973, 20.65165884422709],
                  [-105.26523489848094, 20.652160814485786],
                  [-105.26562113657909, 20.652200972034873]]]),
            {
              "clase": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26564791092919, 20.690237051481294],
                  [-105.26455356965111, 20.690257125223372],
                  [-105.264532111979, 20.691521765620013],
                  [-105.26560499558495, 20.691501692045268]]]),
            {
              "clase": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26244388727676, 20.690127009302284],
                  [-105.2620361915065, 20.689906197803843],
                  [-105.2612637153102, 20.691210988360304],
                  [-105.26169286875259, 20.69141172437291]]]),
            {
              "clase": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26044832376968, 20.69867818916112],
                  [-105.26104913858902, 20.69805593646994],
                  [-105.26042686609756, 20.697413608433084],
                  [-105.25954710154068, 20.697975645614136]]]),
            {
              "clase": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.29483586670263, 20.70176047835845],
                  [-105.29518991829259, 20.70151961154825],
                  [-105.29484659553869, 20.701108129862252],
                  [-105.29451400162084, 20.701389141866283]]]),
            {
              "clase": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.27455998465351, 20.566614153785036],
                  [-105.27455998465351, 20.566192262060888],
                  [-105.27391625448993, 20.566192262060888],
                  [-105.27391625448993, 20.566614153785036]]], null, false),
            {
              "clase": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2822046685147, 20.55347664403628],
                  [-105.2822046685147, 20.55299444050194],
                  [-105.28151802300688, 20.55299444050194],
                  [-105.28151802300688, 20.55347664403628]]], null, false),
            {
              "clase": 0,
              "system:index": "19"
            })]),
    rural_p = 
    /* color: #f1e442 */
    /* locked: true */
    /* displayProperties: [
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21939498421895, 20.599604932743425],
                  [-105.21919113633382, 20.599514547018668],
                  [-105.2191160344814, 20.599715404112025],
                  [-105.21928769585836, 20.599805789717678]]]),
            {
              "clase": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21986973521459, 20.60003928561758],
                  [-105.21976244685399, 20.600164820899792],
                  [-105.2198536419605, 20.600250184832653],
                  [-105.21997434136617, 20.600124649620746]]]),
            {
              "clase": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22190634032708, 20.57900128224003],
                  [-105.22174540778619, 20.579342785069223],
                  [-105.2220350863598, 20.579453271115042],
                  [-105.22217456122857, 20.579172033750165]]]),
            {
              "clase": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20712430938771, 20.57132814250417],
                  [-105.2066736982732, 20.57160939432244],
                  [-105.20703847869923, 20.572111628423443],
                  [-105.20746763214161, 20.571830377530443]]]),
            {
              "clase": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21356161102345, 20.57341742935318],
                  [-105.21330411895802, 20.573758944676705],
                  [-105.21366889938405, 20.574080370165554],
                  [-105.21399076446583, 20.573758944676705]]]),
            {
              "clase": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20119712311063, 20.69195722963998],
                  [-105.2010469194058, 20.69231855249395],
                  [-105.20131514030729, 20.69241891980064],
                  [-105.20146534401212, 20.692067633936688]]]),
            {
              "clase": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19795701462064, 20.690582187576286],
                  [-105.19768879371915, 20.690772887585023],
                  [-105.19774243789945, 20.69095355053007],
                  [-105.19798920112882, 20.690873255914376]]]),
            {
              "clase": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19170417840496, 20.6912834243711],
                  [-105.19157006795422, 20.691288442772258],
                  [-105.1916022544624, 20.691433976333574],
                  [-105.19172563607708, 20.691393829158184]]]),
            {
              "clase": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17851307446972, 20.690771546581228],
                  [-105.17858817632214, 20.69062601238441],
                  [-105.17831459100262, 20.69048047804798],
                  [-105.17821266706005, 20.690676196605974]]]),
            {
              "clase": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.18136694486157, 20.688989997669452],
                  [-105.18120601232067, 20.68869892571815],
                  [-105.180905604911, 20.688829406317105],
                  [-105.180905604911, 20.689090367178345]]]),
            {
              "clase": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17505838925854, 20.687795595417096],
                  [-105.17475798184887, 20.687675150970602],
                  [-105.17468287999645, 20.687976261907583],
                  [-105.17492964322582, 20.688016409987355]]]),
            {
              "clase": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25314110567243, 20.697574063485117],
                  [-105.25343078424604, 20.697413481220703],
                  [-105.25326985170514, 20.69722278956086],
                  [-105.25296944429547, 20.697383372027208]]]),
            {
              "clase": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25213259508283, 20.696510202815066],
                  [-105.2519287471977, 20.696811296214747],
                  [-105.25208967973859, 20.696861478389906],
                  [-105.25226134111554, 20.69670089537094]]]),
            {
              "clase": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25206594468558, 20.699009230187578],
                  [-105.25172262193168, 20.69949097140121],
                  [-105.25217323304618, 20.69981213136004],
                  [-105.2525380134722, 20.6993705362413]]]),
            {
              "clase": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2512934684893, 20.701197125890246],
                  [-105.25099306107963, 20.701558426730543],
                  [-105.25131492616141, 20.701739076827817],
                  [-105.25157241822684, 20.701377776418024]]]),
            {
              "clase": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26338627653564, 20.698127407060984],
                  [-105.26310732679809, 20.698107334360486],
                  [-105.2630536826178, 20.698388351925814],
                  [-105.26341846304382, 20.698398388257814]]]),
            {
              "clase": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26969242637038, 20.699524073602394],
                  [-105.26941347663283, 20.69956421862568],
                  [-105.26940274779678, 20.69980508854222],
                  [-105.26969242637038, 20.69980508854222]]]),
            {
              "clase": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.26508044959479, 20.707931193917755],
                  [-105.26472639800483, 20.707961301016553],
                  [-105.26468348266059, 20.708232264636514],
                  [-105.26511263610297, 20.70826237167549]]]),
            {
              "clase": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.28912667720337, 20.70540370537454],
                  [-105.28906230418701, 20.70572485280833],
                  [-105.28957728831787, 20.70578506787643],
                  [-105.28951291530151, 20.70532341840978]]]),
            {
              "clase": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.29938344447632, 20.704299755881706],
                  [-105.29873971431275, 20.704058893105795],
                  [-105.29865388362427, 20.704500474569283],
                  [-105.29927615611572, 20.704620905654266]]]),
            {
              "clase": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22703158120704, 20.74267676902978],
                  [-105.22690283517433, 20.742074763945087],
                  [-105.22595869760109, 20.742195165153657],
                  [-105.22587286691261, 20.742957703916172]]]),
            {
              "clase": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20707594613624, 20.740830612512617],
                  [-105.20660387734962, 20.741151684829457],
                  [-105.207033030792, 20.741833961240495],
                  [-105.20741926889015, 20.7413523546815]]]),
            {
              "clase": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22495050225804, 20.732595424995566],
                  [-105.22460717950413, 20.732214129986275],
                  [-105.22415656838963, 20.732515152441838],
                  [-105.2244569757993, 20.732996787125593]]]),
            {
              "clase": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.1951396040888, 20.74393344040955],
                  [-105.19481773900701, 20.744314705890403],
                  [-105.19511814641668, 20.744736103461797],
                  [-105.19556875753118, 20.74435483904301]]]),
            {
              "clase": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20013748514407, 20.59591860059514],
                  [-105.20019112932437, 20.595667522934086],
                  [-105.1998370777344, 20.59546666050756],
                  [-105.1998907219147, 20.595948729886675]]]),
            {
              "clase": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19243338519065, 20.603688966723812],
                  [-105.19247630053489, 20.60333747580016],
                  [-105.19212224894493, 20.603247092288772],
                  [-105.19213297778099, 20.603688966723812]]]),
            {
              "clase": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22488117288403, 20.70676828174084],
                  [-105.22488117288403, 20.706647852361908],
                  [-105.22466659616283, 20.706647852361908],
                  [-105.22466659616283, 20.70676828174084]]], null, false),
            {
              "clase": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21845907558057, 20.711031256965168],
                  [-105.21845907558057, 20.710961008481707],
                  [-105.21842688907239, 20.710961008481707],
                  [-105.21842688907239, 20.711031256965168]]], null, false),
            {
              "clase": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.27599739404394, 20.769424783950807],
                  [-105.27599739404394, 20.769424783950807],
                  [-105.27599739404394, 20.769424783950807],
                  [-105.27599739404394, 20.769424783950807]]], null, false),
            {
              "clase": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2761690554209, 20.769505036914275],
                  [-105.2761690554209, 20.769344530944707],
                  [-105.27582573266699, 20.769344530944707],
                  [-105.27582573266699, 20.769505036914275]]], null, false),
            {
              "clase": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.27628939508449, 20.76855663304863],
                  [-105.27628939508449, 20.768466347894957],
                  [-105.27611773370754, 20.768466347894957],
                  [-105.27611773370754, 20.76855663304863]]], null, false),
            {
              "clase": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2729419982339, 20.76936418119023],
                  [-105.2729419982339, 20.76936418119023],
                  [-105.2729419982339, 20.76936418119023],
                  [-105.2729419982339, 20.76936418119023]]], null, false),
            {
              "clase": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25309027389126, 20.712581204467856],
                  [-105.25270403579312, 20.7126213460332],
                  [-105.25270403579312, 20.71294247817313],
                  [-105.25306881621914, 20.712862195201954]]]),
            {
              "clase": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24967850402432, 20.710273046576113],
                  [-105.24946392730313, 20.710252975483744],
                  [-105.24939955428677, 20.710473757353626],
                  [-105.24961413100796, 20.710493828416762]]]),
            {
              "clase": 1,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25725306228237, 20.7096508414765],
                  [-105.25736035064297, 20.709851553078067],
                  [-105.25753201201992, 20.709791339625514],
                  [-105.25744618133145, 20.70957055676144]]]),
            {
              "clase": 1,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.25042952254849, 20.708366280931983],
                  [-105.25023640349941, 20.708546922916437],
                  [-105.25036514953213, 20.708727564685578],
                  [-105.25057972625332, 20.708546922916437]]]),
            {
              "clase": 1,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23345671917863, 20.727494900251383],
                  [-105.23337088849016, 20.72763538185093],
                  [-105.23354254986711, 20.727735725770806],
                  [-105.23367129589982, 20.72753503786455]]]),
            {
              "clase": 1,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22708379055925, 20.729782727219845],
                  [-105.22682629849382, 20.72982286422649],
                  [-105.2268048408217, 20.730003480624745],
                  [-105.22695504452653, 20.729983412146687]]]),
            {
              "clase": 1,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24375145324528, 20.744089297704644],
                  [-105.24359052070439, 20.744119397614956],
                  [-105.2436119783765, 20.7442297639015],
                  [-105.2437192667371, 20.744209697309945]]]),
            {
              "clase": 1,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.30791048775154, 20.76395426351217],
                  [-105.30769591103035, 20.76427528673291],
                  [-105.30799631844002, 20.764475925899557],
                  [-105.30821089516121, 20.764195030991658]]]),
            {
              "clase": 1,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.29426340828377, 20.766943765858972],
                  [-105.29411320457893, 20.76710427437904],
                  [-105.29424195061165, 20.767284846260292],
                  [-105.29447798500496, 20.76704408370399]]]),
            {
              "clase": 1,
              "system:index": "40"
            })]),
    bosque_p = 
    /* color: #09a417 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17245957255533, 20.713207175616013],
                  [-105.17100045085122, 20.713528306514373],
                  [-105.17138668894937, 20.714451554055973],
                  [-105.17263123393228, 20.714250848547227]]]),
            {
              "clase": 2,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17574310754745, 20.699877573076076],
                  [-105.17505646203963, 20.69931554294431],
                  [-105.17406940912215, 20.70011844249484],
                  [-105.1750135466954, 20.700760759074196]]]),
            {
              "clase": 2,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.27208805536239, 20.670779741090932],
                  [-105.27198076700179, 20.6704585196819],
                  [-105.27158380006759, 20.6705287869232],
                  [-105.27159452890365, 20.67082993187473]]]),
            {
              "clase": 2,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2761971168848, 20.67488528327781],
                  [-105.27582160762272, 20.67476482858586],
                  [-105.2757465057703, 20.674905359050506],
                  [-105.2761434727045, 20.675055927261138]]]),
            {
              "clase": 2,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2446140928432, 20.67368388149836],
                  [-105.24443706704821, 20.67372403335881],
                  [-105.24444779588427, 20.67385452683195],
                  [-105.24463555051531, 20.67382441296348]]]),
            {
              "clase": 2,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24122978718134, 20.673357916047447],
                  [-105.24120832950922, 20.673217384150572],
                  [-105.24102057487818, 20.673247498139418],
                  [-105.24102057487818, 20.673393049001323]]]),
            {
              "clase": 2,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17388365697398, 20.662117013550013],
                  [-105.17384074162975, 20.661655231226483],
                  [-105.173347215171, 20.661695386266864],
                  [-105.17332575749889, 20.66215716846835]]]),
            {
              "clase": 2,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.14718856820151, 20.66053604035794],
                  [-105.14688816079185, 20.660756894575453],
                  [-105.14693107613608, 20.660897438001292],
                  [-105.1474031449227, 20.660756894575453]]]),
            {
              "clase": 2,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20534152139358, 20.613962201675225],
                  [-105.20510548700027, 20.614173081620837],
                  [-105.20532006372146, 20.614394003155464],
                  [-105.20555609811477, 20.614213249196418]]]),
            {
              "clase": 2,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.16612819435689, 20.62290970856535],
                  [-105.16531280281636, 20.623030204347177],
                  [-105.1652484298, 20.623672846906185],
                  [-105.16610673668477, 20.62369292944245]]]),
            {
              "clase": 2,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.17978600266072, 20.633543094108724],
                  [-105.1797645449886, 20.633362362883847],
                  [-105.17937830689046, 20.633362362883847],
                  [-105.17966798546406, 20.633673622082053]]]),
            {
              "clase": 2,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.18480971729184, 20.63244581335114],
                  [-105.1845683184805, 20.6324759354183],
                  [-105.18457368289853, 20.632666708371787],
                  [-105.18480971729184, 20.632686789721394]]]),
            {
              "clase": 2,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.04671070957332, 20.73192442674569],
                  [-105.04593823337703, 20.73192442674569],
                  [-105.04585240268855, 20.732406063309032],
                  [-105.04662487888484, 20.732526472210424]]]),
            {
              "clase": 2,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.07875477412708, 20.739157008378125],
                  [-105.07875477412708, 20.738715527946916],
                  [-105.0781110439635, 20.73879579721204],
                  [-105.07806812861926, 20.739217210155317]]]),
            {
              "clase": 2,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.11417533516973, 20.72088859162221],
                  [-105.11293079018682, 20.7208083128619],
                  [-105.11284495949835, 20.721570959366872],
                  [-105.11421825051397, 20.72161109855023]]]),
            {
              "clase": 2,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23140147786494, 20.59303130267235],
                  [-105.23174480061884, 20.592448790835494],
                  [-105.23097232442255, 20.59220775080384],
                  [-105.23056462865229, 20.59273000372421]]]),
            {
              "clase": 2,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21336848374682, 20.60450215763318],
                  [-105.21354014512377, 20.604210923908017],
                  [-105.21326119538622, 20.60406028555591],
                  [-105.21302516099291, 20.60435151956897]]]),
            {
              "clase": 2,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19832666924738, 20.59547275033833],
                  [-105.19792970231317, 20.59567361275684],
                  [-105.1981335501983, 20.595974905888458],
                  [-105.19847687295221, 20.595753957650146]]]),
            {
              "clase": 2,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19060948306053, 20.60085693109305],
                  [-105.1902447026345, 20.600927230486736],
                  [-105.19042709284751, 20.601188342236544],
                  [-105.1907489579293, 20.60104774365761]]]),
            {
              "clase": 2,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.19519069605796, 20.601158213980558],
                  [-105.19490101748436, 20.601108000207333],
                  [-105.19485810214012, 20.601449453539068],
                  [-105.1951263230416, 20.601519752659478]]]),
            {
              "clase": 2,
              "system:index": "19"
            })]),
    urbano_p = 
    /* color: #5e6e61 */
    /* locked: true */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21898884074342, 20.65490595048085],
                  [-105.21843094126832, 20.65474532307933],
                  [-105.21820563571107, 20.65534767495969],
                  [-105.21875280635011, 20.65553841922413]]]),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22565144793641, 20.658610372823894],
                  [-105.22550124423158, 20.65815861883605],
                  [-105.22519010798585, 20.658279086697444],
                  [-105.2254154135431, 20.658700723460303]]]),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22766846911561, 20.65836943753083],
                  [-105.22701401011598, 20.65846982728271],
                  [-105.22711056964052, 20.658801112993316],
                  [-105.22775429980409, 20.658700723460303]]]),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21257083861632, 20.65541716206816],
                  [-105.2120826765756, 20.65523143724451],
                  [-105.21190565078062, 20.65574343485743],
                  [-105.21234553305906, 20.655914100345115]]]),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21402670124655, 20.64627712434293],
                  [-105.21373165825491, 20.646435250750404],
                  [-105.21386308649664, 20.646648595642734],
                  [-105.21415276507025, 20.646540668264027]]]),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.2182333059652, 20.644704569383318],
                  [-105.21786316112114, 20.644659389912356],
                  [-105.21781488135888, 20.64487524726364],
                  [-105.21816893294884, 20.644920426670485]]]),
            {
              "clase": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20820862422444, 20.64566258474902],
                  [-105.20775264869191, 20.645652544930993],
                  [-105.20781702170827, 20.64604409734293],
                  [-105.20823008189656, 20.645978838677628]]]),
            {
              "clase": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.21182234978363, 20.645620383629787],
                  [-105.21239634251282, 20.644947714169618],
                  [-105.2114200184314, 20.644219822222766],
                  [-105.21078701710388, 20.64493265437153]]]),
            {
              "clase": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23095349826939, 20.626307371629196],
                  [-105.23086766758091, 20.625243011836186],
                  [-105.23028831043369, 20.625142600150813],
                  [-105.23009519138462, 20.625986056249477]]]),
            {
              "clase": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22968749561436, 20.626387700368127],
                  [-105.22936563053257, 20.62642786472172],
                  [-105.22842149295933, 20.62801434821113],
                  [-105.22934417286045, 20.62813483995242]]]),
            {
              "clase": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22325019397861, 20.62452004622318],
                  [-105.22239188709385, 20.625283176491806],
                  [-105.22288541355259, 20.62580531605034],
                  [-105.22372226276524, 20.625182764832914]]]),
            {
              "clase": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24164800622968, 20.589483594733785],
                  [-105.24139051416425, 20.58949363825544],
                  [-105.24143342950849, 20.58965433451205],
                  [-105.2416158197215, 20.58965433451205]]]),
            {
              "clase": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24383668878583, 20.589152158147993],
                  [-105.24364356973676, 20.58929276769658],
                  [-105.24375085809736, 20.589453464164833],
                  [-105.24394397714643, 20.589373115951872]]]),
            {
              "clase": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22821370482785, 20.60211164211748],
                  [-105.22785428881986, 20.602588669154134],
                  [-105.22820834040982, 20.602809607486282],
                  [-105.22855166316373, 20.602292410433378]]]),
            {
              "clase": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23318842451965, 20.602051128632503],
                  [-105.2328719238559, 20.60213649150894],
                  [-105.23298457663452, 20.602804328833322],
                  [-105.23334399264252, 20.602703902354943]]]),
            {
              "clase": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22084430318232, 20.59612460410767],
                  [-105.22101596455927, 20.59579318195555],
                  [-105.22074774365778, 20.595622449050577],
                  [-105.22045270066614, 20.59595889312166]]]),
            {
              "clase": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22438526910791, 20.620297839111014],
                  [-105.22400975984583, 20.62042837844296],
                  [-105.2243638114358, 20.62117144635467],
                  [-105.22469104093561, 20.621015804051762]]]),
            {
              "clase": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22263110441217, 20.621492771896065],
                  [-105.2228349522973, 20.621000741884977],
                  [-105.22246480745325, 20.620920410303615],
                  [-105.22229851049433, 20.621492771896065]]]),
            {
              "clase": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24416930249113, 20.58219562081964],
                  [-105.24367577603239, 20.582426632686897],
                  [-105.24356312325376, 20.582898699327984],
                  [-105.24407810738462, 20.58298909490114]]]),
            {
              "clase": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24540137565941, 20.68521580222825],
                  [-105.24454306877465, 20.684192003979646],
                  [-105.24263333595604, 20.68559721549607],
                  [-105.24372767723412, 20.686681226917667]]]),
            {
              "clase": 3,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23909282005638, 20.682345134769346],
                  [-105.237762444385, 20.682847003626463],
                  [-105.23825597084374, 20.683951109270296],
                  [-105.23960780418724, 20.683348870823995]]]),
            {
              "clase": 3,
              "system:index": "20"
            })]),
    urbano_2 = 
    /* color: #d63000 */
    /* displayProperties: [
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "rectangle"
      },
      {
        "type": "polygon"
      },
      {
        "type": "polygon"
      }
    ] */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.20945917953169, 20.638617667985415],
                  [-105.20945917953169, 20.63815581427782],
                  [-105.20898711074507, 20.63815581427782],
                  [-105.20898711074507, 20.638617667985415]]], null, false),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23032477553647, 20.630054853947964],
                  [-105.23032477553647, 20.629492565432564],
                  [-105.22974541838926, 20.629492565432564],
                  [-105.22974541838926, 20.630054853947964]]], null, false),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.23173025306028, 20.6321132138264],
                  [-105.23173025306028, 20.63136015856388],
                  [-105.23096850570005, 20.63136015856388],
                  [-105.23096850570005, 20.6321132138264]]], null, false),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22737434562009, 20.631701544077984],
                  [-105.22737434562009, 20.63116938397243],
                  [-105.22677353080076, 20.63116938397243],
                  [-105.22677353080076, 20.631701544077984]]], null, false),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.22317602593472, 20.601344305432356],
                  [-105.22317602593472, 20.600786932302718],
                  [-105.22253766018918, 20.600786932302718],
                  [-105.22253766018918, 20.601344305432356]]], null, false),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.24308338124325, 20.592154920705056],
                  [-105.2429117198663, 20.592380895824167],
                  [-105.2427668805795, 20.592717347047735],
                  [-105.24267032105496, 20.5929232347438],
                  [-105.24299755055478, 20.59302868930975],
                  [-105.24308874566128, 20.59274245531824],
                  [-105.24317994076779, 20.592466264115355],
                  [-105.24339451748898, 20.59227544081025]]]),
            {
              "clase": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-105.29067849547322, 20.531797966061553],
                  [-105.29034590155537, 20.532330472860476],
                  [-105.29157971770222, 20.532400803808564],
                  [-105.29177283675129, 20.532069243341677]]]),
            {
              "clase": 3,
              "system:index": "6"
            })]);

var sfoPoint = ee.Geometry.Point(-105.35, 20.60);

// Importar imagen Sentinel 2
var sfoImage_2020 = ee.ImageCollection('COPERNICUS/S2')
    .filterBounds(sfoPoint)
    .filterDate('2020-03-01', '2020-05-31')
    .first();

// Visualuizar con composición de Falso color
Map.centerObject(sfoPoint, 12);
Map.addLayer(sfoImage_2020, {
    bands: ['B8', 'B4', 'B3'],
    min: 0,
    max: 2000
  }, 'Sentinel 2 Color falso');

// Calcular NDVI
var ndviND_2020 = sfoImage_2020.normalizedDifference(['B8', 'B4']);
Map.addLayer(ndviND_2020, {
    min: -1,
    max: 1,
    palette: ['red', 'white', 'green']
  }, 'NDVI 2020');
  
// Reclasificar NDVI para detectar presencia de agua
var agua_2020 = ndviND_2020.lt(-0.1);

// Reclasificar NDVI para detectar presencia de bosque
var bosque_2020 = ndviND_2020.gt(0.55);

// Detectar superficies urbanizadas con alta reflectividad
var urbano_2020 = sfoImage_2020.select('B2').gt(1000)
             .and(sfoImage_2020.select('B3').gt(1000))
             .and(sfoImage_2020.select('B4').gt(1000))
             .and(sfoImage_2020.select('B5').gt(1500));

// Definir una capa de datos que va a contener los resultados de clasificación  
var clases = ee.Image(1).clip(sfoImage_2020.geometry());
// Aplicar los criterios de árbol de decición en capa de clases
clases = clases.where(agua_2020.eq(1),0)
clases = clases.where(bosque_2020.eq(1),2)
clases = clases.where(urbano_2020.eq(1),3)

Map.addLayer(clases,
    {
        min: 0,
        max: 3,
        palette: ['blue','white','green','gray']
    }, 'Agua, Rural, Bosque, Urbano');
    
var puntos_de_control = agua.merge(rural)
                            .merge(bosque)
                            .merge(urbano);
print('Puntos:', puntos_de_control);

var muestreo = clases.sampleRegions({
  collection: puntos_de_control,
  scale: 30
});
print(muestreo);

var matriz_de_error = muestreo.errorMatrix('constant', 'clase', null);
print('Matriz de error (puntos):', matriz_de_error);
print('Precisión general (puntos):', matriz_de_error.accuracy());
print('Precisión de productor (puntos):', matriz_de_error.producersAccuracy());
print('Precisión de usuario (puntos):', matriz_de_error.consumersAccuracy());
print('Kappa de Cohen (puntos):', matriz_de_error.kappa());

var poligonos_referencia = agua_p
                            .merge(rural_p)
                            .merge(bosque_p)
                            .merge(urbano_p)
                            .merge(urbano_2);
print('Poligonos de referencia:', poligonos_referencia);

var muestreo_p = clases.sampleRegions({
  collection: poligonos_referencia,
  scale: 20
});
print('Resultados de muestreo con poligonos:', muestreo_p.limit(500));

var matriz_de_error_p = muestreo_p.errorMatrix('constant', 'clase', null);
print('Matriz de error (poligonos):', matriz_de_error_p);
print('Precisión general (poligonos):', matriz_de_error_p.accuracy());
print('Precisión de productor (poligonos):', matriz_de_error_p.producersAccuracy());
print('Precisión de usuario (poligonos):', matriz_de_error_p.consumersAccuracy());
print('Kappa de Cohen (poligonos):', matriz_de_error_p.kappa());

// Preparar subconjuntos de datos de entrenamiento y control
var poligonos_referencia_con_aleatorios = poligonos_referencia.randomColumn();
print('Poligonos con columna aleatoria:', poligonos_referencia_con_aleatorios);
var poligonos_entrenamiento = poligonos_referencia_con_aleatorios
          .filter(ee.Filter.lessThan('random', 0.7));
print('Poligonos de entrenamiento:', poligonos_entrenamiento);
var poligonos_control = poligonos_referencia_con_aleatorios
          .filter(ee.Filter.greaterThanOrEquals('random', 0.7));
print('Poligonos de control:', poligonos_control);

// Preparar datos del imagen de satelite para el clasificador
ndviND_2020 = ndviND_2020.rename('NDVI');
var imagen_Sentinel_para_clasificacion = sfoImage_2020
                .select(['B2','B3','B4','B5'])
                .addBands(ndviND_2020);
print(imagen_Sentinel_para_clasificacion);

// realizar muestro de imagen con poligonos de entrenamiento
var entrenamiento_datos = imagen_Sentinel_para_clasificacion
                .sampleRegions({
                   collection: poligonos_entrenamiento,
                   properties: ['clase'],
                   scale: 20
                  });
print('Datos de entrenamiento:', entrenamiento_datos);

// entrenamiento del clasificador CART
var clasificador0 = ee.Classifier.smileCart({
                  minLeafPopulation: 3
                }).train({
                 features: entrenamiento_datos,
                 classProperty: 'clase',
                 inputProperties: ['B2','B3','B4','B5','NDVI']
                });
print('Clasificador:', clasificador0);

var clasificador = ee.Classifier.smileCart({
                  maxNodes: 10
                }).train({
                 features: entrenamiento_datos,
                 classProperty: 'clase',
                 inputProperties: ['B2','B3','B4','B5','NDVI']
                });
print('Clasificador:', clasificador);


var imagen_clasificado_con_CART = imagen_Sentinel_para_clasificacion
                    .classify(clasificador)
Map.addLayer(imagen_clasificado_con_CART,
    {
        min: 0,
        max: 3,
        palette: ['blue','white','green','gray']
    }, 'CART: Agua, Rural, Bosque, Urbano');
    

var muestreo_p_entrenamiento_CART = imagen_clasificado_con_CART.sampleRegions({
  collection: poligonos_entrenamiento,
  scale: 20
});
print('Resultados de muestreo con poligonos (entrenamiento, CART):', muestreo_p_entrenamiento_CART);
var matriz_de_error_p_entrenamiento_CART = muestreo_p_entrenamiento_CART.errorMatrix('classification', 'clase', null);
print('Matriz de error (poligonos, entrenamiento, CART):', matriz_de_error_p_entrenamiento_CART);
print('Precisión general (poligonos, entrenamiento, CART):', matriz_de_error_p_entrenamiento_CART.accuracy());
print('Precisión de productor (poligonos, entrenamiento, CART):', matriz_de_error_p_entrenamiento_CART.producersAccuracy());
print('Precisión de usuario (poligonos, entrenamiento, CART):', matriz_de_error_p_entrenamiento_CART.consumersAccuracy());
print('Kappa de Cohen (poligonos, entrenamiento, CART):', matriz_de_error_p_entrenamiento_CART.kappa());

var muestreo_p_control_CART = imagen_clasificado_con_CART.sampleRegions({
  collection: poligonos_control,
  scale: 20
});
print('Resultados de muestreo con poligonos (control, CART):', muestreo_p_control_CART);
var matriz_de_error_p_control_CART = muestreo_p_control_CART.errorMatrix('classification', 'clase', null);
print('Matriz de error (poligonos, control, CART):', matriz_de_error_p_control_CART);
print('Precisión general (poligonos, control, CART):', matriz_de_error_p_control_CART.accuracy());
print('Precisión de productor (poligonos, control, CART):', matriz_de_error_p_control_CART.producersAccuracy());
print('Precisión de usuario (poligonos, control, CART):', matriz_de_error_p_control_CART.consumersAccuracy());
print('Kappa de Cohen (poligonos, control, CART):', matriz_de_error_p_control_CART.kappa());

